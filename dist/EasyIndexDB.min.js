!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).EasyIndexDB=t()}(this,function(){"use strict";var e=(t.prototype.parserSQL=function(e){for(var t=e.toString().trim().toLowerCase(),n=this.handleSingleQuoSpace(t),o=0,r=n.length;o<r;o+=1){var i=n[o],s=0,a=i.length;if(i){for(;s<a;s+=1){var u=i.charAt(s);if(/^[a-z_]+$/i.test(u)){for(var l="",h=i.charAt(s);s<i.length;){if(s++,l=i.charAt(s),!/^[\w\.:]+$/i.test(l)){s--;break}h+=l}console.log(h),this.tokenQue.push(h)}}this.handleAllEnd()}}},t.prototype.getLexterResult=function(){return this.sqlQue},t.prototype.tokenStart=function(e){},t.prototype.tokenEnd=function(e){},t.prototype.handleAllEnd=function(){var e={cmd:this.tokenQue.shift(),other:this.tokenQue};this.tokenQue=[],this.sqlQue.push(e)},t.prototype.handleSingleQuoSpace=function(e){var t=e.split(";");return 0<=t.length?t.map(function(e){return e.trim()}):t},t);function t(){this.sqlQue=[],this.tokenQue=[]}var n=(o.parserUseSql=function(e){return{cmd:e.cmd,operation:e.other.shift()}},o);function o(){}var r=(i.prototype.initDB=function(e){},i.prototype.execute=function(e){this.sqlLexter.parserSQL(e),this.sqlLexter.getLexterResult().forEach(this.handleLexter.bind(this))},i.prototype.handleLexter=function(e,t,n){console.log(e,t,n)},i);function i(){this.sqlLexter=null,this.useGrammar=null,this.sqlLexter=new e,this.useGrammar=new n}return(new r).execute("\n  use DBName_1;\n\n  create table TName_1\n  (\n    name,\n    age,\n    relation,\n  );\n  create table TName_2\n  (\n    name2,\n    age2,\n    relation2,\n  );\n"),r});
